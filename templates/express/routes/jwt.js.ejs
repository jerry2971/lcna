var express = require('express');
var winston = require('./../lib/winston');
var { jwtSign } = require('./../lib/jwt');

var router = express.Router();
var TITLE = 'JWT_MSG';

// (req, res, next) => {}
function sign (req, res){
  var token = null;

  winston.log('debug', {title: TITLE, msg: req.body});
  token = jwtSign(req.body);
  res.status(200).json({token: token});
};

router
  .post('/', sign);

module.exports = router;
